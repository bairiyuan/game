# ğŸ® å¦‚ä½•æ¥å…¥æ–°æ¸¸æˆ (ä¿å§†çº§æ•™ç¨‹)

æ­å–œä½ å¼€å‘å®Œäº†æ–°æ¸¸æˆç»„ä»¶ï¼ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠå®ƒâ€œæ’â€å…¥åˆ°ç³»ç»Ÿé‡Œï¼Œè®©ç”¨æˆ·èƒ½ç©åˆ°å®ƒã€‚
æ•´ä¸ªè¿‡ç¨‹åªéœ€è¦ä¿®æ”¹ä¸¤ä¸ªæ–‡ä»¶ï¼Œå°±åƒæ˜¯â€œå¡«ç©ºé¢˜â€ä¸€æ ·ç®€å•ã€‚

æˆ‘ä»¬å‡è®¾ä½ çš„æ–°æ¸¸æˆå« **`FlappyBird`**ï¼Œç»„ä»¶æ–‡ä»¶åœ¨ `@renderer/components/game/flappyBird/FlappyBird.vue`ã€‚

---

## ğŸ“‹ ç¬¬ä¸€æ­¥ï¼šåœ¨æ¸¸æˆå¤§å…â€œæŒ‚ç‰Œâ€
**ç›®æ ‡æ–‡ä»¶**ï¼š`src/components/GameStatus.vue`

è¿™é‡Œæ˜¯æ¸¸æˆèœå•ã€‚æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªå›¾æ ‡ï¼Œè®©ç”¨æˆ·èƒ½ç‚¹è¿›å»ã€‚

1.  **å¼•å…¥å›¾æ ‡** (åœ¨ `<script>` é¡¶éƒ¨)ï¼š
    ```typescript
    import FlappyBirdIcon from '@assets/app/img/png/game/FlappyBirdIcon.png'
    ```

2.  **æ·»åŠ åˆ°åˆ—è¡¨** (åœ¨ `const gameList = ref([...])` é‡Œ)ï¼š
    ```typescript
    {
      name: 'é£ç¿”å°é¸Ÿ',          // èœå•ä¸Šæ˜¾ç¤ºçš„åå­—
      label: 'flappybird',       // ã€é‡è¦ã€‘å”¯ä¸€IDï¼Œåƒä¸‡åˆ«è·Ÿå…¶ä»–æ¸¸æˆé‡å¤ï¼
      iconUrl: FlappyBirdIcon,   // å›¾æ ‡å˜é‡
      description: 'æ§åˆ¶å°é¸Ÿé£è¶Šéšœç¢', // æè¿°æ–‡æ¡ˆ
      callback: () => {
        console.log('é£ç¿”å°é¸Ÿå¯åŠ¨ï¼')
      }
    },
    ```

---

## ğŸ­ ç¬¬äºŒæ­¥ï¼šåœ¨æ¸¸æˆèˆå°â€œæ’æœŸâ€
**ç›®æ ‡æ–‡ä»¶**ï¼š`src/views/game/GameView.vue`

è¿™é‡Œæ˜¯æ ¸å¿ƒä¿®æ”¹ç‚¹ã€‚è¯·æŒ‰ `Ctrl + F` æœç´¢ **`Parkour`**ï¼Œåœ¨æ¯ä¸€ä¸ªå‡ºç°çš„åœ°æ–¹ä¸‹é¢ç…§ç€å†™ä¸€è¡Œã€‚

### 1. å¼•å…¥ç»„ä»¶ (Imports)
```typescript
import CatchFood from '@renderer/components/game/catchFood/CatchFood.vue'
import Parkour from '@renderer/components/game/parkour/Parkour.vue'
// ğŸ‘‡ æ–°å¢è¿™ä¸€è¡Œ
import FlappyBird from '@renderer/components/game/flappyBird/FlappyBird.vue'
```

### 2. å®šä¹‰ç±»å‹ä¸å¼•ç”¨ (Types & Refs)
```typescript
// 1. ç±»å‹å®šä¹‰ (type Game)
type Game =  typeof CatchFood | typeof Parkour | typeof FlappyBird // ğŸ‘ˆ åŠ ä¸Šä½ çš„ç»„ä»¶ç±»å‹

// 2. ç»„ä»¶å¼•ç”¨ (Ref)
const catchFoodRef = ref<InstanceType<typeof CatchFood> | null>(null)
const parkourRef = ref<InstanceType<typeof Parkour> | null>(null)
// ğŸ‘‡ æ–°å¢è¿™ä¸€è¡Œ
const flappyBirdRef = ref<InstanceType<typeof FlappyBird> | null>(null)
```

### 3. é…ç½®æ–‡æ¡ˆ (Config Maps)
```typescript
// 1. è§„åˆ™ä»‹ç» (gameRuleMap)
gameRuleMap = {
    catchfood: '...',
    parkour: '...',
    // ğŸ‘‡ æ–°å¢
    flappybird: 'ç‚¹å‡»é¼ æ ‡å·¦é”®æ§åˆ¶å°é¸Ÿé£è¡Œé«˜åº¦ï¼Œæ’åˆ°ç®¡å­å°±ç®—è¾“ï¼'
}

// 2. æ“ä½œæç¤º (optNoticeMap)
optNoticeMap = {
  catchfood: '...',
  parkour: '...',
  // ğŸ‘‡ æ–°å¢
  flappybird: 'ç‚¹å‡»å·¦é”®é£è¡Œ'
}
```

### 4. å…è®¸ç»„ä»¶æŒ‚è½½ (Component Ref)
```typescript
// æ‰¾åˆ° currentGameComponent å®šä¹‰çš„åœ°æ–¹
const currentGameComponent = ref<typeof CatchFood | typeof Parkour | typeof FlappyBird | null>(null) 
// ğŸ‘† è®°å¾—åŠ ä¸Š | typeof FlappyBird
```

### 5. ã€æ ¸å¿ƒã€‘æ³¨å†ŒåŠ è½½é€»è¾‘ (onMounted)
è¿™æ˜¯æœ€åä¸€æ­¥ï¼Œå‘Šè¯‰ç³»ç»Ÿçœ‹åˆ° `flappybird` ID æ—¶è¯¥å¹²å˜›ã€‚

```typescript
onMounted(() => {
  const query = route.query
  // ...
    if (query.game === 'catchfood') {
      // ...
    } else if (query.game === 'parkour') {
      currentGameComponent.value = Parkour
      currentGameRef.value = parkourRef.value
    } 
    // ğŸ‘‡ğŸ‘‡ğŸ‘‡ æ–°å¢è¿™æ®µé€»è¾‘ ğŸ‘‡ğŸ‘‡ğŸ‘‡
    else if (query.game === 'flappybird') {
      currentGameComponent.value = FlappyBird // æŒ‚è½½ç»„ä»¶
      currentGameRef.value = flappyBirdRef.value // ç»‘å®šå¼•ç”¨
    } 
    // ğŸ‘†ğŸ‘†ğŸ‘† æ–°å¢ç»“æŸ ğŸ‘†ğŸ‘†ğŸ‘†
    else {
      currentGameComponent.value = null
    }
  // ...
})
```

---

## âœ… æ£€æŸ¥æ¸…å•
åšå®Œä¸Šé¢ä¸¤æ­¥ï¼Œä¿å­˜ä»£ç ï¼Œé‡å¯ä¸€ä¸‹å¼€å‘æœåŠ¡å™¨ã€‚
1.  æ‰“å¼€æ¸¸æˆèœå•ï¼Œèƒ½çœ‹åˆ°â€œé£ç¿”å°é¸Ÿâ€çš„å›¾æ ‡å—ï¼Ÿ
2.  ç‚¹å‡»å›¾æ ‡ï¼Œèƒ½æ­£ç¡®è·³è½¬å¹¶åŠ è½½æ¸¸æˆç”»é¢å—ï¼Ÿ
3.  æ¸¸æˆå¼€å§‹å‰çš„è§„åˆ™ä»‹ç»æ–‡æ¡ˆå¯¹ä¸å¯¹ï¼Ÿ

å¦‚æœéƒ½ OKï¼Œæ­å–œä½ ï¼æ–°æ¸¸æˆæ¥å…¥æˆåŠŸï¼ğŸ‰
